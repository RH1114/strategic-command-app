<script>
  const supabase = window.supabase.createClient(
    "https://ynddzitxwddgmxfhdmru.supabase.co",
    "sb_publishable_1RLUVi5PCkOklX5Y3HOoIw_gMmb_use"
  );

  async function login() {
    alert("Funciona el bot√≥n");

    const email = document.getElementById("email").value;
    const password = document.getElementById("password").value;

    const { data, error } = await supabase.auth.signInWithPassword({
      email,
      password
    });

    if (error) {
      alert(error.message);
      return;
    }

    loadUser();
  }

  async function loadUser() {
    const { data: { user } } = await supabase.auth.getUser();
    if (!user) return;

    document.getElementById("login").style.display = "none";
    document.getElementById("panel").style.display = "block";
    document.getElementById("userInfo").innerText = "Correo: " + user.email;
  }

  async function logout() {
    await supabase.auth.signOut();
    location.reload();
  }

  loadUser();
</script>
